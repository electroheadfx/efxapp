!function(a,b){"function"==typeof define&&define.amd?define(["flickity/js/index"],b):"object"==typeof module&&module.exports?module.exports=b(require("flickity")):b(a.Flickity)}(window,function(a){"use strict";a.createMethods.push("_createHash");var b=a.prototype;b._createHash=function(){this.options.hash&&(this.connectedHashLinks=[],this.onHashLinkClick=function(a){a.preventDefault(),this.selectCell(a.currentTarget.hash),history.replaceState(null,"",a.currentTarget.hash)}.bind(this),this.on("activate",this.activateHash),this.on("deactivate",this.deactivateHash))},b.activateHash=function(){if(this.on("change",this.onChangeHash),void 0===this.options.initialIndex&&location.hash){var a=this.queryCell(location.hash);a&&(this.options.initialIndex=this.getCellSlideIndex(a))}this.connectHashLinks()},b.deactivateHash=function(){this.off("change",this.onChangeHash),this.disconnectHashLinks()},b.onChangeHash=function(){var a=this.selectedElement.id;if(a){var b="#"+a;history.replaceState(null,"",b)}},b.connectHashLinks=function(){for(var a=document.querySelectorAll("a"),b=0;b<a.length;b++)this.connectHashLink(a[b])};var c=document.createElement("a");return b.connectHashLink=function(a){if(a.hash&&(c.href=a.href,c.pathname==location.pathname)){var b=this.queryCell(a.hash);b&&(a.addEventListener("click",this.onHashLinkClick),this.connectedHashLinks.push(a))}},b.disconnectHashLinks=function(){this.connectedHashLinks.forEach(function(a){a.removeEventListener("click",this.onHashLinkClick)},this),this.connectedHashLinks=[]},a});